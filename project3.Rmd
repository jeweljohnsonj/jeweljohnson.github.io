---
title: "Chapter 3: Even more customizations in ggplot2"
description: |
  Learn how to customize the theme and colour palette of a graph in ggplot2.
author:
  - name: Jewel Johnson 
date: "`r Sys.Date()`"
output: 
  distill::distill_article:
    toc_depth: 3
preview: photos/ggplot2.png
---
```{r setup, include=FALSE}
library(Stat2Data)
library(ggplot2)
library(ggthemes)
library(viridis)
library(wesanderson)
library(palmerpenguins)
library(ggsci)
data("penguins")
data("BirdNest")
knitr::opts_chunk$set(echo = TRUE)
```

---
# xaringanExtra package will help us to have inbuilt tabs insdie the article
---

```{r panelset, echo=FALSE}
xaringanExtra::use_panelset()
```

In this chapter, we will learn how to change the theme settings of a graph in ggplot2. The theme of a graph consists of non-data components present in your graph. This includes the different labels of the graph, fonts used, colour of axes, the background of the graph etc. By changing the theme we would not be changing or transforming how the data will look in the graph. Instead, we would only change the visual appearances in the graph and by doing so we can make it more aesthetically pleasing. Furthermore, we will see a few popular packages featuring ready to use themes. We will also learn about colour palettes and will see different packages associated with them.

## Complete themes

The `ggplot2` package features ready to use themes called 'complete themes'. So before we begin customizing themes, let us plot a few graphs and see how these themes look like. For the plots, I have used the `BirdNest` dataset from the `Stat2Data` package in R. The `BirdNest` dataset contains nest and species characteristics of North American passerines. The data was collected by Amy R. Moore, as a student at Grinnell College in 1999.

* Getting the `BirdNest` dataset and viewing how the dataset is structured.

```{r, eval=FALSE}
install.packages("Stat2Data") #for installing Stat2Data package
install.packages("ggplot2") #for installing ggplot2 package

#load the packages
library(Stat2Data)
library(ggplot2)

data("BirdNest") #loading the BirdNest dataset
str(BirdNest) #for viewing structure of the dataset
```

```{r, echo=FALSE}
library(magrittr)
library(rmarkdown)

# to display the str() information in the form of a table use the following command below
# https://stackoverflow.com/questions/44200394/show-str-as-table-in-r-markdown (credits: scoa)

paged_table(data.frame(variable = names(BirdNest), classes = sapply(BirdNest, typeof), 
           first_values = sapply(BirdNest, function(x) paste0(head(x),  collapse = ", ")), 
           row.names = NULL))
```

So we have plenty of variables to play with. The tabs shown below are named according to the theme used in the plots. The description for each theme is taken from [ggplot2 tidyverse webpage](https://ggplot2.tidyverse.org/reference/ggtheme.html).

---
#tab page code
---

::: {.l-page}
::: {.panelset}
::: {.panel}
## theme_gray() {.panel-name}

> theme_gray(): The signature ggplot2 theme with a grey background and white gridlines, designed to put the data forward yet make comparisons easy.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_gray()
```

:::
::: {.panel}
## theme_bw() {.panel-name}

> theme_bw(): The classic dark-on-light ggplot2 theme. May work better for presentations displayed with a projector.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw()
```

:::
::: {.panel}
## theme_linedraw() {.panel-name}

> theme_linedraw(): A theme with only black lines of various widths on white backgrounds, reminiscent of a line drawing. Serves a purpose similar to theme_bw(). Note that this theme has some very thin lines (<< 1 pt) which some journals may refuse.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_linedraw()
```

:::
::: {.panel}
## theme_light() {.panel-name}

> theme_light(): A theme similar to theme_linedraw() but with light grey lines and axes, to direct more attention towards the data.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_light()
```

:::
::: {.panel}
## theme_dark() {.panel-name}

> theme_dark(): The dark cousin of theme_light(), with similar line sizes but a dark background. Useful to make thin coloured lines pop out.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_dark()
```

:::
::: {.panel}
## theme_minimal() {.panel-name}

> theme_minimal(): A minimalistic theme with no background annotations.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_minimal()
```

:::
::: {.panel}
## theme_classic() {.panel-name}

> theme_classic(): A classic-looking theme, with x and y axis lines and no gridlines.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_classic()
```

:::
::: {.panel}
## theme_void() {.panel-name}

> theme_void(): A completely empty theme.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_void()
```

:::
:::
:::

## Themes from ggthemes package

If you want even more pre-built themes then you can try the `ggthemes` package. This package was developed by [Dr. Jeffrey B. Arnold](https://jrnold.github.io/ggthemes/).

```{r, eval=FALSE}
#install and load ggthemes package
install.packages("ggthemes")
library(ggthemes)
```

The tabs shown below are named after the themes present in `ggthemes` package. The description for each theme is taken from the [ggthemes manual](https://cran.r-project.org/web/packages/ggthemes/ggthemes.pdf).

::: {.l-page}
::: {.panelset}
::: {.panel}
## theme_base() {.panel-name}

> theme_base(): Theme similar to the default settings of the ‘base’ R graphics.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_base() + theme(text = element_text(size = 10)) #size is reduced to accommodate the graph in the tab
```

:::
::: {.panel}
## theme_calc() {.panel-name}

> theme_calc(): Theme similar to the default settings of LibreOffice Calc charts.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_calc()
```

:::
::: {.panel}
## theme_clean() {.panel-name}

> theme_clean(): Clean ggplot theme with no panel background, black axis lines and grey fill colour for chart elements.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_clean()
```

:::
::: {.panel}
## theme_economist() {.panel-name}

> theme_economist(): A theme that approximates the style of *The Economist*.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_economist()
```

:::
::: {.panel}
## theme_excel() {.panel-name}

> theme_excel(): Theme to replicate the ugly monstrosity that was the old gray-background Excel chart. Please never use this. This theme should be combined with the `scale_colour_excel()` color scale.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_excel()
```

:::
::: {.panel}
## theme_excel_new() {.panel-name}

> theme_excel_new(): Theme for ggplot2 that is similar to the default style of charts in current versions of Microsoft Excel.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_excel_new()
```

:::
::: {.panel}
## theme_few() {.panel-name}

> theme_few(): Theme based on the rules and examples from Stephen Few’s *Show Me the Numbers* and "Practical Rules for Using Color in Charts".

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_few()
```

:::
::: {.panel}
## theme_fivethirtyeight() {.panel-name}

> theme_fivethirtyeight(): Theme inspired by the plots on [FiveThirtyEight](https://fivethirtyeight.com/) plots

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_fivethirtyeight()
```

:::
::: {.panel}
## theme_foundation() {.panel-name}

> theme_foundation(): This theme is designed to be a foundation from which to build new themes, and not meant to be used directly. `theme_foundation()` is a complete theme with only minimal number of elements defined. It is easier to create new themes by extending this one rather than `theme_gray()` or `theme_bw()`, because those themes define elements deep in the hierarchy.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_foundation()
```

:::
::: {.panel}
## theme_gdocs() {.panel-name}

> theme_gdocs(): Theme similar to the default look of charts in Google Docs.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_gdocs() + theme(text = element_text(size = 10)) #size is reduced to accommodate the graph in the tab
```

:::
::: {.panel}
## theme_hc() {.panel-name}

> theme_hc(): Theme based on [Highcharts](https://www.highcharts.com/) plots

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_hc()
```

:::
::: {.panel}
## theme_igray() {.panel-name}

> theme_igray(): Theme with white panel and gray background.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_igray()
```

:::
::: {.panel}
## theme_map() {.panel-name}

> theme_map(): A clean theme that is good for displaying maps from `geom_map()`.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_map()
```

:::
::: {.panel}
## theme_pander() {.panel-name}

> theme_pander(): The pander ships with a default theme when the ’unify plots’ option is enabled via panderOptions, which is now also available outside of pander internals, like evals, eval.msgs or Pandoc.brew.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_pander()
```

:::
::: {.panel}
## theme_par() {.panel-name}

> theme_par(): Theme which uses the current ‘base’ graphics parameter values from par(). Not all par() parameters, are supported, and not all are relevant to ggplot2 themes.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_par() + theme(text = element_text(size = 9)) #size is reduced to accommodate the graph in the tab
```

:::
::: {.panel}
## theme_solarized() {.panel-name}

> theme_solarized(): See https://ethanschoonover.com/solarized/ for a description of the Solarized palette.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_solarized()
```

:::
::: {.panel}
## theme_solid() {.panel-name}

> theme_solid(): Theme with nothing other than a background color.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_solid()
```

:::
::: {.panel}
## theme_stata() {.panel-name}

> theme_stata(): Themes based on Stata graph schemes.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_stata()
```

:::
::: {.panel}
## theme_tufte() {.panel-name}

> theme_tufte(): Theme based on Chapter 6 ’Data-Ink Maximization and Graphical Design’ of Edward Tufte *The Visual Display of Quantitative Information*. No border, no axis lines, no grids. This theme works best in combination with `geom_rug()` or `geom_rangeframe()`.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_tufte()
```

:::
::: {.panel}
## theme_wsj() {.panel-name}

> theme_wsj(): Theme based on the plots in The Wall Street Journal

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_wsj() + theme(text = element_text(size = 6)) #size is reduced to accommodate the graph in the tab
```

:::
:::
:::

## Changing colour palettes in ggplot2

Apart from ready to use themes, there are also ready to use colour palettes which we can use. A colour palette contains a set of pre-defined colours which will be applied to the different geometries present in a graph.

Choosing a good colour palette is important as it helps us to represent data in a better way and at the same time, it also makes the graph easier to read for people with colour blindness. Let us see a few popular colour palette packages used in R.

### viridis package

`viridis` package is a popularly used colour palette in R. It is aesthetically pleasing and well designed to improve readability for colour blind people. The `virids` package was developed by Bob Rudis, Noam Ross and Simon Garnier. There are eight different colour scales present in this package. The name of the tab denotes the colour scale present in this package.

```{r}
#load viridis colour package
library(viridis)
```

::: {.l-page}
::: {.panelset}
::: {.panel}
### viridis {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "viridis")
```

:::
::: {.panel}
### magma {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "magma")
```

:::
::: {.panel}
### plasma {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "plasma")
```

:::
::: {.panel}
### inferno {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "inferno")
```

:::
::: {.panel}
### cividis {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "cividis")
```

:::
::: {.panel}
### mako {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "mako")
```

:::
::: {.panel}
### rocket {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "rocket")
```

:::
::: {.panel}
### turbo {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "turbo")
```

:::
:::
:::

### wesanderson package

If you like your colours distinctive and narrative, just like how American film-maker [Mr. Wes Anderson](https://en.wikipedia.org/wiki/Wes_Anderson) would like it, then try the `wesanderson` package. Relive the *The Grand Budapest Hotel* moments through your graphs. The `wesandreson` package was developed by [Karthik Ram](https://github.com/karthik/wesanderson). There are a total of 19 colour palettes present in this package. We will see a subset of them. All colour scales in this package are available [here](https://github.com/karthik/wesanderson). The name of the tab denotes the colour scale used. The data used in this plot is the `penguin` dataset present in the package `palmerpenguins`.

```{r, eval=FALSE}
#install and load wesanderson and palmerpenguins package
install.packages("wesanderson")
install.packages("palmerpenguins")
library(wesanderson)
library(palmerpenguins)
data("penguins") #load the penguins dataset
```

::: {.l-page}
::: {.panelset}
::: {.panel}
### GrandBudapest1 {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("GrandBudapest1", n = 3))
```

:::
::: {.panel}
### BottleRocket2 {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("BottleRocket2", n = 3))
```

:::
::: {.panel}
### Rushmore1 {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("Rushmore1", n = 3))
```

:::
::: {.panel}
### Royal1 {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("Royal1", n = 3))
```

:::
::: {.panel}
### Zissou1 {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("Zissou1", n = 3))
```

:::
::: {.panel}
### Darjeeling2 {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("Darjeeling2", n = 3))
```

:::

::: {.panel}
### IsleofDogs1 {.panel-name}

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("IsleofDogs1", n = 3))
```

:::
:::
:::

### ggsci package

If you want high-quality colour palettes reflecting scientific journal styles then you can try the `ggsci` package. The `ggsci` package was developed by [Dr. Nan Xiao](https://nanx.me/) and [Dr. Miaozhu Li](http://miaozhu.li/). All colour scales in this package are available in package [webpage](https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html). The descriptions of the colour scales were also taken from the package webpage. The name of the tab denotes the colour scale used.

```{r, eval=FALSE}
#load ggsci package
library(ggsci)
```

::: {.l-page}
::: {.panelset}
::: {.panel}
### scale_fill_npg() {.panel-name}

> The NPG palette is inspired by the plots in the journals published by Nature Publishing Group.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_npg()
```

:::
::: {.panel}
### scale_fill_aaas() {.panel-name}

> The AAAS palette is inspired by the plots in the journals published by American Association for the Advancement of Science.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_aaas()
```

:::
::: {.panel}
### scale_fill_nejm() {.panel-name}

> The NEJM palette is inspired by the plots in The New England Journal of Medicine.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_nejm()
```

:::
::: {.panel}
### scale_fill_lancet() {.panel-name}

> The Lancet palette is inspired by the plots in Lancet journals, such as Lancet Oncology.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_lancet()
```

:::
::: {.panel}
### scale_fill_jama() {.panel-name}

> The JAMA palette is inspired by the plots in The Journal of the American Medical Association.

```{r, code_folding=TRUE, fig.align = 'center', fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_jama()
```

:::
::: {.panel}
### scale_fill_jco() {.panel-name}

> The JCO palette is inspired by the the plots in Journal of Clinical Oncology.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_jco()
```

:::
::: {.panel}
### scale_fill_ucscgb() {.panel-name}

> The UCSCGB palette is from the colors used by UCSC Genome Browser for representing chromosomes. This palette has been intensively used in visualizations produced by Circos.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_ucscgb()
```

:::
::: {.panel}
### scale_fill_d3() {.panel-name}

> The D3 palette is from the categorical colors used by D3.js (version 3.x and before). There are four palette types `(category10, category20, category20b, category20c)` available.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_d3(palette = "category10")
```

:::
::: {.panel}
### scale_fill_locuszoom() {.panel-name}

> The LocusZoom palette is based on the colors used by [LocusZoom](http://locuszoom.org/).

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_locuszoom()
```

:::
::: {.panel}
### scale_fill_igv() {.panel-name}

> The IGV palette is from the colors used by [Integrative Genomics Viewer](http://software.broadinstitute.org/software/igv/) for representing chromosomes. There are two palette types (default, alternating) available.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_igv()
```

:::
::: {.panel}
### scale_fill_uchicago() {.panel-name}

> The UChicago palette is based on [the colors](https://news.uchicago.edu/sites/default/files/attachments/_uchicago.identity.guidelines.pdf) used by the University of Chicago. There are three palette types (default, light, dark) available.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_uchicago()
```

:::
::: {.panel}
### scale_fill_startrek() {.panel-name}

> This palette is inspired by the (uniform) colors in Star Trek.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_startrek()
```

:::
::: {.panel}
### scale_fill_tron() {.panel-name}

> This palette is inspired by the colors used in Tron Legacy. It is suitable for displaying data when using a dark theme.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_tron()
```

:::
::: {.panel}
### scale_fill_futurama() {.panel-name}

> This palette is inspired by the colors used in the TV show Futurama.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_futurama()
```

:::
::: {.panel}
### scale_fill_rickandmorty() {.panel-name}

> This palette is inspired by the colors used in the TV show Rick and Morty.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_rickandmorty()
```

:::
::: {.panel}
### scale_fill_simpsons() {.panel-name}

> This palette is inspired by the colors used in the TV show The Simpsons.

```{r, code_folding=TRUE, fig.align = 'center'}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_simpsons()
```

:::
:::
:::

## Customizing the theme()

A ggplot theme is made up of different elements and it's functions. For e.g. `plot.title()` element allows you to modify the title of the graph using the element function `element_text()`. In this way, we can change the font size, font family, text colour etc. of the title of the plot. So let us begin customising our graph. We will be reusing the `BirdNest` dataset for the graphs.

### 1. Customizing text elements using element_text()

All text elements can be customized using the element function `element_text()`. The syntax for `element_text()` is as follows

```{r, eval=FALSE}
element_text(
  family = NULL, #insert family font name, e.g. "Times"
  face = NULL,  #font face ("plain", "italic", "bold", "bold.italic")
  colour = NULL, #either from colours() or hex code inside ""
  size = NULL, #text size (in pts)
  hjust = NULL, #horizontal justification values 0 or 1
  vjust = NULL, #vertical justification values 0 or 1
  angle = NULL, #angle in degrees
  lineheight = NULL, #distance between text and axis line
  color = NULL, #same function as colour
  margin = NULL,
  debug = NULL,
  inherit.blank = FALSE
)
```

::: {.l-page}
::: {.panelset}
::: {.panel}
### Before {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE, fig.align = 'center'}
p <- ggplot(BirdNest, aes(No.eggs, Totcare, colour = Nesttype)) + geom_point() +
    labs(x= "Number of eggs", y= "Total care time (days)",
       title= "Relationship between number of eggs and total care time",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package",
       colour = "Nest type")
p
```

:::
::: {.panel}
### After {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE, fig.align = 'center'}
p <- ggplot(BirdNest, aes(No.eggs, Totcare, colour = Nesttype)) + geom_point() +
    labs(x= "Number of eggs", y= "Total care time (days)",
       title= "Relationship between number of eggs and total care time",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package",
       colour = "Nest type")

#customizing text elements
p + theme(plot.title=element_text(size = 15,family = "Comic Sans MS",colour = "darkred",face = "bold"),
          plot.subtitle=element_text(size = 10,family = "Courier",colour= "blue",face= "italic"),
          plot.caption = element_text(size = 8,family = "Times",colour= "green",face="bold.italic", hjust=0),
          axis.text.x= element_text(size = 6,colour = "magenta", angle=20),
          axis.text.y= element_text(size = 6,colour = "darkblue", angle=30),
          axis.title.x = element_text(colour = "orchid"),
          axis.title.y = element_text(colour = "sienna"),
          legend.text = element_text(size = 8,colour = "darkgreen"),
          legend.title = element_text(size = 10,colour = "lightblue",face = "bold"))
```

:::
:::
:::

### 2. Customizing line elements using element_line()

Line elements include axes, grid lines, borders of the graph etc. All line elements can be customized using the element function `element_line()`. The syntax for `element_line()` is as follows

```{r, eval=FALSE}
element_line(
  colour = NULL, #either from colours() or hex code inside ""
  size = NULL, #line size in mm units
  linetype = NULL, # eg: dashed, dotted etc 
  lineend = NULL, #line end style (round, butt, square)
  color = NULL, #same function as colour
  arrow = NULL, #arrow specification
  inherit.blank = FALSE
)
```

::: {.l-page}
::: {.panelset}
::: {.panel}
### Before {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE, fig.align = 'center'}
p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")
p
```

:::
::: {.panel}
### After {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE, fig.align = 'center'}
p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")

#customizing line elements
p + theme(panel.grid.major = element_line(colour = "red", size = 0.8, linetype = "dashed"),
          panel.grid.minor = element_line(colour = "blue",linetype = "twodash"),
          axis.line.x = element_line(colour = "darkred", arrow = arrow()),
          axis.line.y = element_line(colour = "darkblue"),
          axis.ticks = element_line(size = 5, colour = "yellow"),
          axis.ticks.length.y=unit(0.5, "cm")) #ticks positioned 0.5cm away from y axis
```

:::
:::
:::

### 3. Customizing background elements using element_rect()

Background elements include plot, panel and legend backgrounds and their margins. All background elements can be customized using the element function `element_rect()`. The syntax for `element_rect()` is as follows

```{r, eval=FALSE}
element_rect(
  fill = NULL, #fills colour
  colour = NULL, #colours the border
  size = NULL, #changes border size in mm units
  linetype = NULL, #changes border linetype
  color = NULL,
  inherit.blank = FALSE
)
```

::: {.l-page}
::: {.panelset}
::: {.panel}
### Before {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE, fig.align = 'center'}
p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")
p
```

:::
::: {.panel}
### After {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE, fig.align = 'center'}
p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")

#customizing line elements
p + theme(plot.background = element_rect(size = 5, colour = "red", fill = "lightblue"),
          panel.background = element_rect(size = 3, colour = "blue", fill = "lightyellow", linetype = "dotted"),
          legend.key = element_rect(fill = "lightgreen"),
          legend.background = element_rect(fill = "grey"),
          legend.key.size = unit(0.75, "cm"))
```

:::
:::
:::

## Summary

I hope you are now able to customize a theme of a graph with ease. In this chapter, we learned about different theme elements and how to customize them. We also saw different packages in R which featured ready to use themes. We learned about colour palettes and got introduced to the popular colour packages available R. With that being said, always make sure that your graphs are colour-blind friendly. Have a good day!

---
#bottom buttons to guide to next/previous chapters. 
---
<br>  

<a href="project2.html" class="btn button_round" style="float: left;">Previous chapter:<br> 2. Customizing graphs in ggplot2</a>

## References

1. H. Wickham. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York, 2016. Read more about ggplot2 [here](https://ggplot2.tidyverse.org/). You can also look at the [cheat sheet](https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf) for all the syntax used in `ggplot2`. Also check this [out](https://github.com/erikgahner/awesome-ggplot2).

2. Ann Cannon, George Cobb, Bradley Hartlaub, Julie Legler, Robin Lock, Thomas Moore, Allan Rossman and Jeffrey Witmer (2019).
  Stat2Data: Datasets for Stat2. R package version 2.0.0. https://CRAN.R-project.org/package=Stat2Data

3. Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica) penguin data. R package version
  0.1.0. https://allisonhorst.github.io/palmerpenguins/

4. Jeffrey B. Arnold (2021). ggthemes: Extra Themes, Scales and Geoms for 'ggplot2'. R package version 4.2.4.
  https://CRAN.R-project.org/package=ggthemes

5. Simon Garnier, Noam Ross, Robert Rudis, Antônio P. Camargo, Marco Sciaini, and Cédric Scherer (2021). Rvision -
  Colorblind-Friendly Color Maps for R. R package version 0.6.2. You can read more [here](https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html).

6. Karthik Ram and Hadley Wickham (2018). wesanderson: A Wes Anderson Palette Generator. R package version 0.3.6.
  https://CRAN.R-project.org/package=wesanderson

7. Nan Xiao (2018). ggsci: Scientific Journal and Sci-Fi Themed Color Palettes for 'ggplot2'. R package version 2.9.
  https://CRAN.R-project.org/package=ggsci
