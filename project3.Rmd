---
title: "Chapter 3: Even more customizations in ggplot2"
description: |
  Learn how to customize the theme of a graph in ggplot2.
author:
  - name: Jewel Johnson 
date: "`r Sys.Date()`"
output: 
  distill::distill_article:
    toc_depth: 3
---
```{r setup, include=FALSE}
library(Stat2Data)
library(ggplot2)
library(ggthemes)
data("BirdNest")
knitr::opts_chunk$set(echo = TRUE)
```

---
# xaringanExtra package will help us to have inbuilt tabs insdie the article
---

```{r panelset, echo=FALSE}
xaringanExtra::use_panelset()
```

In this chapter we will learn how to change the theme settings of a graph in ggplot2. The theme of a graph consists of non-data components present in your graph. This includes the different labels of the graph, fonts used, colour of axes, background of the graph etc. By changing the theme we would not be changing or transforming how the data will look in the graph. Instead we would only change the visual appearances in the graph and by doing so we can make it more aesthetically pleasing.

## Complete themes

The `ggplot2` package features ready to use themes called as 'complete themes'. So before we begin customizing themes, let us plot a few graphs and see how these themes look like. For the plots, I have used the `BirdNest` dataset from `Stat2Data` package in R. The `BirdNest` dataset contains nest and species characteristics of North American passerines. The data was collected by Amy R. Moore, as a student at Grinnell College in 1999.

* Getting the `BirdNest` dataset and viewing how the dataset is structured.

```{r, eval=FALSE}
install.packages("Stat2Data") #for installing Stat2Data package
install.packages("ggplot2") #for installing ggplot2 package

#load the packages
library(Stat2Data)
library(ggplot2)

data("BirdNest") #loading the BirdNest dataset
str(BirdNest) #for viewing structure of the dataset
```

```{r, echo=FALSE}
library(magrittr)
library(rmarkdown)

# to display the str() information in the form of a table use the following command below
# https://stackoverflow.com/questions/44200394/show-str-as-table-in-r-markdown (credits: scoa)

paged_table(data.frame(variable = names(BirdNest), classe = sapply(BirdNest, typeof), 
           first_values = sapply(BirdNest, function(x) paste0(head(x),  collapse = ", ")), 
           row.names = NULL))
```

So we have plenty of variables to play with. The tabs shown below are named according to the theme used in the plots. The description for each theme is taken from [ggplot2 tidyverse webpage](https://ggplot2.tidyverse.org/reference/ggtheme.html).

---
#tab page code
---

::: {.l-page}
::: {.panelset}
::: {.panel}
## theme_gray() {.panel-name}

> theme_gray(): The signature ggplot2 theme with a grey background and white gridlines, designed to put the data forward yet make comparisons easy.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_gray()
```

:::
::: {.panel}
## theme_bw() {.panel-name}

> theme_bw(): The classic dark-on-light ggplot2 theme. May work better for presentations displayed with a projector.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw()
```

:::
::: {.panel}
## theme_linedraw() {.panel-name}

> theme_linedraw(): A theme with only black lines of various widths on white backgrounds, reminiscent of a line drawing. Serves a purpose similar to theme_bw(). Note that this theme has some very thin lines (<< 1 pt) which some journals may refuse.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_linedraw()
```

:::
::: {.panel}
## theme_light() {.panel-name}

> theme_light(): A theme similar to theme_linedraw() but with light grey lines and axes, to direct more attention towards the data.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_light()
```

:::
::: {.panel}
## theme_dark() {.panel-name}

> theme_dark(): The dark cousin of theme_light(), with similar line sizes but a dark background. Useful to make thin coloured lines pop out.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_dark()
```

:::
::: {.panel}
## theme_minimal() {.panel-name}

> theme_minimal(): A minimalistic theme with no background annotations.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_minimal()
```

:::
::: {.panel}
## theme_classic() {.panel-name}

> theme_classic(): A classic-looking theme, with x and y axis lines and no gridlines.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_classic()
```

:::
::: {.panel}
## theme_void() {.panel-name}

> theme_void(): A completely empty theme.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_void()
```

:::
:::
:::

## Themes from ggthemes package

If you want even more pre built themes then you can try the `ggthemes` package.

```{r, eval=FALSE}
#install and load ggthemes package
install.packages("ggthemes")
library(ggthemes)
```

The tabs shown below are named after the themes present in `ggthemes` package. The description for each theme is taken from the [ggthemes manual](https://cran.r-project.org/web/packages/ggthemes/ggthemes.pdf).

::: {.l-page}
::: {.panelset}
::: {.panel}
## theme_base() {.panel-name}

> theme_base(): Theme similar to the default settings of the ‘base’ R graphics.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_base()
```

:::
::: {.panel}
## theme_calc() {.panel-name}

> theme_calc(): Theme similar to the default settings of LibreOffice Calc charts.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_calc()
```

:::
::: {.panel}
## theme_clean() {.panel-name}

> theme_clean(): Clean ggplot theme with no panel background, black axis lines and grey fill colour for chart elements.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_clean()
```

:::
::: {.panel}
## theme_economist() {.panel-name}

> theme_economist(): A theme that approximates the style of *The Economist*.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_economist()
```

:::
::: {.panel}
## theme_excel() {.panel-name}

> theme_excel(): Theme to replicate the ugly monstrosity that was the old gray-background Excel chart. Please never use this. This theme should be combined with the `scale_colour_excel()` color scale.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_excel()
```

:::
::: {.panel}
## theme_excel_new() {.panel-name}

> theme_excel_new(): Theme for ggplot2 that is similar to the default style of charts in current versions of Microsoft Excel.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_excel_new()
```

:::
::: {.panel}
## theme_few() {.panel-name}

> theme_few(): Theme based on the rules and examples from Stephen Few’s *Show Me the Numbers* and "Practical Rules for Using Color in Charts".

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_few()
```

:::
::: {.panel}
## theme_fivethirtyeight() {.panel-name}

> theme_fivethirtyeight(): Theme inspired by the plots on [FiveThirtyEight](https://fivethirtyeight.com/) plots

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_fivethirtyeight()
```

:::
::: {.panel}
## theme_foundation() {.panel-name}

> theme_foundation(): This theme is designed to be a foundation from which to build new themes, and not meant to be used directly. `theme_foundation()` is a complete theme with only minimal number of elements defined. It is easier to create new themes by extending this one rather than `theme_gray()` or `theme_bw()`, because those themes define elements deep in the hierarchy.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_foundation()
```

:::
::: {.panel}
## theme_gdocs() {.panel-name}

> theme_gdocs(): Theme similar to the default look of charts in Google Docs.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_gdocs()
```

:::
::: {.panel}
## theme_hc() {.panel-name}

> theme_hc(): Theme based on [Highcharts](https://www.highcharts.com/) plots

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_hc()
```

:::
::: {.panel}
## theme_igray() {.panel-name}

> theme_igray(): Theme with white panel and gray background.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_igray()
```

:::
::: {.panel}
## theme_map() {.panel-name}

> theme_map(): A clean theme that is good for displaying maps from `geom_map()`.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_map()
```

:::
::: {.panel}
## theme_pander() {.panel-name}

> theme_pander(): The pander ships with a default theme when the ’unify plots’ option is enabled via panderOptions, which is now also available outside of pander internals, like evals, eval.msgs or Pandoc.brew.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_pander()
```

:::
::: {.panel}
## theme_par() {.panel-name}

> theme_par(): Theme which uses the current ‘base’ graphics parameter values from par(). Not all par() parameters, are supported, and not all are relevant to ggplot2 themes.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_par()
```

:::
::: {.panel}
## theme_solarized() {.panel-name}

> theme_solarized(): See https://ethanschoonover.com/solarized/ for a description of the Solarized palette.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_solarized()
```

:::
::: {.panel}
## theme_solid() {.panel-name}

> theme_solid(): Theme with nothing other than a background color.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_solid()
```

:::
::: {.panel}
## theme_stata() {.panel-name}

> theme_stata(): Themes based on Stata graph schemes.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_stata()
```

:::
::: {.panel}
## theme_tufte() {.panel-name}

> theme_tufte(): Theme based on Chapter 6 ’Data-Ink Maximization and Graphical Design’ of Edward Tufte *The Visual Display of Quantitative Information*. No border, no axis lines, no grids. This theme works best in combination with `geom_rug()` or `geom_rangeframe()`.

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_tufte()
```

:::
::: {.panel}
## theme_wsj() {.panel-name}

> theme_wsj(): Theme based on the plots in The Wall Street Journal

```{r, code_folding=TRUE}
ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_wsj()
```

:::
:::
:::

## Customizing the theme()

A ggplot theme is made up of different elements and it's functions. For e.g. `plot.title()` element allows you to change the title of the graph. There are many element functions associated with `plot.title()` element. For e.g. using the element function `element_text()` you change the font size, font family, text colour etc of the title of the plot. So let us begin customising our graph. We will be reusing the `BirdNest` dataset for the graphs.

## 1. Customizing text elements using element_text()

All text elements can be customized using the element function `element_text()`. The syntax for `element_text()` is as follows

```{r, eval=FALSE}
element_text(
  family = NULL, #insert family font name, e.g. "Times"
  face = NULL,  #font face ("plain", "italic", "bold", "bold.italic")
  colour = NULL, #either from colours() or hex code inside ""
  size = NULL, #text size (in pts)
  hjust = NULL, #horizontal justification values 0 or 1
  vjust = NULL, #vertical justification values 0 or 1
  angle = NULL, #angle in degrees
  lineheight = NULL, #distance between text and axis line
  color = NULL, #same function as colour
  margin = NULL,
  debug = NULL,
  inherit.blank = FALSE
)
```

::: {.l-page}
::: {.panelset}
::: {.panel}
## Before {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE}
p <- ggplot(BirdNest, aes(No.eggs, Totcare, colour = Nesttype)) + geom_point() +
    labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")
p
```

:::
::: {.panel}
## After {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE}
p <- ggplot(BirdNest, aes(No.eggs, Totcare, colour = Nesttype)) + geom_point() +
    labs(x= "Number of eggs", y= "Total care time (days)",
       title= "Relationship between number of eggs and total care time",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package",
       colour = "Nest type")

#customizing text elements
p + theme(plot.title=element_text(size = 15,family = "Comic Sans MS",colour = "darkred",face = "bold"),
          plot.subtitle=element_text(size = 10,family = "Courier",colour= "blue",face= "italic"),
          plot.caption = element_text(size = 8,family = "Times",colour= "green",face="bold.italic", hjust=0),
          axis.text.x= element_text(size = 6,colour = "magenta", angle=20),
          axis.text.y= element_text(size = 6,colour = "darkblue", angle=30),
          axis.title.x = element_text(colour = "orchid"),
          axis.title.y = element_text(colour = "sienna"),
          legend.text = element_text(size = 8,colour = "darkgreen"),
          legend.title = element_text(size = 10,colour = "lightblue",face = "bold"))
```

:::
:::
:::

## 2. Customizing line elements using element_line()

Line elements include axes, grid lines, borders of the graph etc. All line elements can be customized using the element function `element_line()`. The syntax for `element_line()` is as follows

```{r, eval=FALSE}
element_line(
  colour = NULL, #either from colours() or hex code inside ""
  size = NULL, #line size in mm units
  linetype = NULL, # eg: dashed, dotted etc 
  lineend = NULL, #line end style (round, butt, square)
  color = NULL, #same function as colour
  arrow = NULL, #arrow specification
  inherit.blank = FALSE
)
```

::: {.l-page}
::: {.panelset}
::: {.panel}
## Before {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE}
p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")
p
```

:::
::: {.panel}
## After {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE}
p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")

#customizing line elements
p + theme(panel.grid.major = element_line(colour = "red", size = 0.8, linetype = "dashed"),
          panel.grid.minor = element_line(colour = "blue",linetype = "twodash"),
          axis.line.x = element_line(colour = "darkred", arrow = arrow()),
          axis.line.y = element_line(colour = "darkblue"),
          axis.ticks = element_line(size = 5, colour = "yellow"),
          axis.ticks.length.y=unit(0.5, "cm")) #ticks positioned 0.5cm away from y axis
```

:::
:::
:::

## 3. Customizing background elements using element_rect()

Background elements include plot, panel and legend backgrounds and their margins. All background elements can be customized using the element function `element_rect()`. The syntax for `element_rect()` is as follows

```{r, eval=FALSE}
element_rect(
  fill = NULL, #fills colour
  colour = NULL, #colours the border
  size = NULL, #changes border size in mm units
  linetype = NULL, #changes border linetype
  color = NULL,
  inherit.blank = FALSE
)
```

::: {.l-page}
::: {.panelset}
::: {.panel}
## Before {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE}
p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")
p
```

:::
::: {.panel}
## After {.panel-name}

```{r, fig.align = 'center', code_folding=TRUE}
p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")

#customizing line elements
p + theme(plot.background = element_rect(size = 5, colour = "red", fill = "lightblue"),
          panel.background = element_rect(size = 3, colour = "blue", fill = "lightyellow", linetype = "dotted"),
          legend.key = element_rect(fill = "lightgreen"),
          legend.background = element_rect(fill = "grey"),
          legend.key.size = unit(0.75, "cm"))
```

:::
:::
:::

## Summary



## References

